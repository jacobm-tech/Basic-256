<html>
<header>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>netconnect</title>
<link type='text/css' rel='stylesheet' href='style.css'>
</header>
<body>
<div style='float:right'><a href='index.html'>Index</a></div>
<h2> NetConnect </h2>
<h3> Формат: </h3>
<b>netconnect</b> имя_сервера, номер_порта<br/>
<b>netconnect</b>( имя_сервера, номер_порта )<br/>
<b>netconnect</b> номер_сокета, имя_сервера, номер_порта<br/>
<b>netconnect</b>( номер_сокета, имя_сервера, номер_порта )
<h3> Описание: </h3>
Открывает клиентское сетевое соединение с сервером. IP адрес или имя хоста указывается в параметре <i>имя_сервера</i>, а порт в параметре <i>номер_порта</i>. Если <i>номер_сокета</i>, используется нулевой (0) номер.
<h3> Смотри также: </h3>
<a href="netaddress.html">NetAddress</a>, <a href="netclose.html">NetClose</a>, <a href="netdata.html">NetData</a>, <a href="netlisten.html">NetListen</a>, <a href="netread.html">NetRead</a>, <a href="netwrite.html">NetWrite</a>
<h3> Пример: </h3>
Откройте два экземпляра BASIC-256 на одном компьютере. Скопируйте код "сервера" в один экземпляр и код "клиента" в другой. Запустите сначала сервер, затем клиент. Вы сможете увидеть, как два различных процесса обмениваются сообщениями.<h4>Код для сервера</h4>
<pre>
# Получаем сообщение и посылаем ответ об успешном соединении
print "wait for connection on " + netaddress()
netlisten 9997
print "got connection"
do
  while not netdata
   pause .1
   print ".";
  end while
  n$ = netread
  print n$
  netwrite "I got '" + n$ + "'."
until n$ = "end"
netclose
</pre>
Будет напечатано (где xxx.xxx.xxx.xxx IPv4 адрес вашего компьютера)
<pre>
wait for connection on xxx.xxx.xxx.xxx
got connection
.1 Hi There
....2 Hi There
........3 Hi There
..........4 Hi There
.....5 Hi There
.......6 Hi There
....7 Hi There
..........8 Hi There
....9 Hi There
.....10 Hi There
.end
</pre>
<h4>Код для клиента</h4>
<pre>
# Ожидаем ввода сообщения от пользователя и посылаем его на сервер
input "enter message?", m$
netconnect "127.0.0.1", 9997
for t = 1 to 10
  pause rand
  netwrite t + " " + m$
  print netread
next t
netwrite "end"
print netread
netclose
</pre>
Будет напечатано
<pre>
enter message?Hi There
I got &#039;1 Hi There&#039;.
I got &#039;2 Hi There&#039;.
I got &#039;3 Hi There&#039;.
I got &#039;4 Hi There&#039;.
I got &#039;5 Hi There&#039;.
I got &#039;6 Hi There&#039;.
I got &#039;7 Hi There&#039;.
I got &#039;8 Hi There&#039;.
I got &#039;9 Hi There&#039;.
I got &#039;10 Hi There&#039;.
I got &#039;end&#039;.
</pre>

<h3> Впервые в версии: </h3>
0.9.6.31
</body>
</html>
